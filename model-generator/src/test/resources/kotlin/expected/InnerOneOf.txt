package com.rarible.test

import com.fasterxml.jackson.annotation.JsonSubTypes
import com.fasterxml.jackson.annotation.JsonTypeInfo
import java.math.BigInteger
import java.time.Instant
import kotlin.String

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY)
@JsonSubTypes(
    JsonSubTypes.Type(name = "sell", value = OrderActivitySell::class),
    JsonSubTypes.Type(name = "list", value = OrderActivityList::class),
    JsonSubTypes.Type(name = "bid", value = OrderActivityBid::class),
    JsonSubTypes.Type(name = "burn", value = NftActivityBurn::class),
    JsonSubTypes.Type(name = "transfer", value = NftActivityTransfer::class),
    JsonSubTypes.Type(name = "mint", value = NftActivityMint::class),
)
sealed class InnerOneOf {
    abstract val id : String?
    abstract val date : Instant?
    abstract val address : BigInteger?
}

//--------------- OrderActivity ---------------//
sealed class OrderActivity : InnerOneOf() {
}

class OrderActivitySell (
    override val id : String?,
    override val date : Instant?,
    override val address : BigInteger?,
    val transactionHash : String?,
    val mode : Mode?,
) : OrderActivity()  {

    enum class Mode {
        FIRST,
        SECOND,
        THIRD,
    }

}

class OrderActivityList (
    override val id : String?,
    override val date : Instant?,
    override val address : BigInteger?,
    val price : BigInteger?,
    val mode : Mode?,
) : OrderActivity()  {

    enum class Mode {
        FIRST,
        SECOND,
        THIRD,
    }

}

class OrderActivityBid (
    override val id : String?,
    override val date : Instant?,
    override val address : BigInteger?,
    val price : BigInteger?,
) : OrderActivity()


//--------------- NftActivity ---------------//
sealed class NftActivity : InnerOneOf() {
    abstract val tokenId : BigInteger?
    abstract val value : BigInteger?
    abstract val transactionHash : String?
}

class NftActivityBurn (
    override val id : String?,
    override val date : Instant?,
    override val address : BigInteger?,
    override val tokenId : BigInteger?,
    override val value : BigInteger?,
    override val transactionHash : String?,
    val burn : String?,
    val mode : Mode?,
) : NftActivity()  {

    enum class Mode {
        FIRST,
        SECOND,
        THIRD,
    }

}

class NftActivityTransfer (
    override val id : String?,
    override val date : Instant?,
    override val address : BigInteger?,
    override val tokenId : BigInteger?,
    override val value : BigInteger?,
    override val transactionHash : String?,
    val from : String?,
) : NftActivity()

class NftActivityMint (
    override val id : String?,
    override val date : Instant?,
    override val address : BigInteger?,
    override val tokenId : BigInteger?,
    override val value : BigInteger?,
    override val transactionHash : String?,
) : NftActivity()


